---
import { existsSync } from "node:fs";

interface Props {
  alt: string;
  width: number;
  height: number;
  className?: string;
  priority?: boolean;
}

const { alt, width, height, className = "", priority = false } = Astro.props;

const transparentLogoPath = "/brand/owli-ai-logo-transparent.png";
const solidLogoPath = "/brand/owli-ai-logo.png";
const placeholderLogoPath = "/brand/owli-ai-logo-placeholder.svg";

const transparentLogoDiskPath = new URL(`../../public${transparentLogoPath}`, import.meta.url);
const solidLogoDiskPath = new URL(`../../public${solidLogoPath}`, import.meta.url);

const logoSrc = existsSync(transparentLogoDiskPath)
  ? transparentLogoPath
  : existsSync(solidLogoDiskPath)
    ? solidLogoPath
    : placeholderLogoPath;
---

<img
  src={logoSrc}
  alt={alt}
  width={width}
  height={height}
  class={className}
  loading={priority ? "eager" : "lazy"}
  decoding="async"
/>
